<!DOCTYPE html>
<html lang="pt-BR">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Pokemon TCG</title>
        <link rel="stylesheet" href="css/style.css">
        <link rel="icon" href="Imagens/Icone.png" type="image/png">
    </head>
    
    <body>
        <header>
            <nav>
                <ul>
                    <li><a href="1-index.html">Início</a></li>
                    <li><a href="2-introducao.html">Introdução</a></li>
                    <li><a href="3-regras.html">Regras</a></li>
                    <li><a href="4-colecoes.html">Coleções</a></li>
                    <li><a href="5-campeonatos.html">Campeonatos</a></li>
                    <li><a href="6-digital.html">Digital</a></li>
                    <li><a href="7-curiosidades.html">Curiosidades</a></li>
                    <li><a href="8-fotos.html">Fotos</a></li>
                    <li><a href="9-videos.html">Vídeos</a></li>
                    <li><a href="10-tabela.html">Tabela</a></li>
                    <li><a href="11-sobre.html">Autores</a></li>
                </ul>
            </nav>
        </header>

        <!-- ...existing code... -->
        <section class="girar">
            <div class="base">
                <div class="container2">
                    <div style="--i:1" class="card">
                        <div class="card__face card__face--back"></div>
                        <div class="card__face card__face--front">
                            <img src="Imagens/coleções/eevee.png" alt="eevee">
                        </div>
                    </div>

                    <div style="--i:2" class="card">
                        <div class="card__face card__face--back"></div>
                        <div class="card__face card__face--front">
                            <img src="Imagens/coleções/jolteon.png" alt="jolteon">
                        </div>
                    </div>

                    <div style="--i:3" class="card">
                        <div class="card__face card__face--back"></div>
                        <div class="card__face card__face--front">
                            <img src="Imagens/coleções/flareon.png" alt="flareon">
                        </div>
                    </div>

                    <div style="--i:4" class="card">
                        <div class="card__face card__face--back"></div>
                        <div class="card__face card__face--front">
                            <img src="Imagens/coleções/vaporeon.png" alt="vaporeon">
                        </div>
                    </div>

                    <div style="--i:5" class="card">
                        <div class="card__face card__face--back"></div>
                        <div class="card__face card__face--front">
                            <img src="Imagens/coleções/umbreon.png" alt="umbreon">
                        </div>
                    </div>

                    <div style="--i:6" class="card">
                        <div class="card__face card__face--back"></div>
                        <div class="card__face card__face--front">
                            <img src="Imagens/coleções/espeon.png" alt="espeon">
                        </div>
                    </div>

                    <div style="--i:7" class="card">
                        <div class="card__face card__face--back"></div>
                        <div class="card__face card__face--front">
                            <img src="Imagens/coleções/leafeon.png" alt="leafeon">
                        </div>
                    </div>

                    <div style="--i:8" class="card">
                        <div class="card__face card__face--back"></div>
                        <div class="card__face card__face--front">
                            <img src="Imagens/coleções/glaceon.png" alt="glaceon">
                        </div>
                    </div>

                    <div style="--i:9" class="card">
                        <div class="card__face card__face--back"></div>
                        <div class="card__face card__face--front">
                            <img src="Imagens/coleções/sylveon.png" alt="sylveon">
                        </div>
                    </div>
                </div> <!-- .conteiner -->
            </div> <!-- .base -->
        </section>
<!-- ...existing code... -->
        <section class="json-collection">
  <div class="json-inner">
    <h2>Evoluções Prismáticas</h2>

    <!-- stacked cards (uma atrás da outra) -->
    <div class="stack-area" title="Clique para abrir as imagens">
      
      <div class="stack" aria-hidden="false"><img src="Imagens/coleções/box.png" alt="Caixa de cartas"></div>
    </div>

  </div>

  <script>
(async () => {
  const LOCAL_JSON = './sv8pt5.json';
  async function loadJson() {
    const res = await fetch(LOCAL_JSON);
    if (!res.ok) throw new Error('Arquivo local não encontrado: ' + LOCAL_JSON);
    return await res.json();
  }

  try {
    const raw = await loadJson();
    const cards = Array.isArray(raw) ? raw : (raw.data || []);
    const unique = Array.from(new Map(cards.map(c => [c.id || JSON.stringify(c), c])).values());
    const total = unique.length;

    const stack = document.querySelector('.stack');
    if (!stack) throw new Error('.stack não encontrado no DOM');

    // NÃO criar thumbnails agora — apenas mostrar uma caixa clicável
    stack.innerHTML = '';
    const box = document.createElement('button');
    box.type = 'button';
    box.className = 'stack-box';
    box.title = 'Clique para ver as cartas';
    box.innerHTML =  `<img src="Imagens/coleções/box.png" alt="Caixa de cartas" style="width:100%;height:100%;object-fit:cover;border-radius:6px;display:block;">
  `;
    Object.assign(box.style, {
      width: '180px',
      height: '240px',
      borderRadius: '0px',
      border: 'none',
      background: 'none',
      cursor: 'pointer',
      display: 'flex',
      alignItems: 'center',
      justifyContent: 'center',
      fontWeight: '600'
    });
    stack.appendChild(box);

    // rowView será criado apenas quando o usuário clicar
    let rowView = null;
    let created = false;

    box.addEventListener('click', () => {
      // se já criado, só alterna visibilidade
      if (created) {
        rowView.style.display = rowView.style.display === 'flex' ? 'none' : 'flex';
        if (rowView.style.display === 'flex') rowView.scrollTo({ left: 0, behavior: 'smooth' });
        return;
      }

      rowView = document.createElement('div');
      rowView.className = 'row-view';
      Object.assign(rowView.style, {
        display: 'flex',
        marginTop: '12px',
        width: '100%',
        overflowX: 'auto',
        whiteSpace: 'nowrap',
        gap: '10px',
        padding: '8px 4px'
      });

      unique.forEach(card => {
        const imgUrl = (card.images && (card.images.small || card.images.large)) || card.image || '';
        const imgEl = document.createElement('img');
        imgEl.src = imgUrl;
        imgEl.alt = card.name || '';
        imgEl.loading = 'lazy';
        Object.assign(imgEl.style, {
          width: '120px',
          height: '160px',
          objectFit: 'cover',
          display: 'inline-block',
          marginRight: '8px',
          borderRadius: '6px',
          cursor: 'pointer',
          boxShadow: '0 6px 14px rgba(0,0,0,0.12)'
        });
        rowView.appendChild(imgEl);
      });

      const stackArea = document.querySelector('.stack-area');
      stackArea.parentNode.insertBefore(rowView, stackArea.nextSibling);
      created = true;
      rowView.scrollTo({ left: 0, behavior: 'smooth' });
    });

    console.log('sv8pt5 metadata ready (images will be shown on click):', total);
  } catch (err) {
    console.error(err);
    alert('Erro ao carregar sv8pt5.json — ver console.');
  }
})();
</script>
</section>



        <footer>
        <img class="arrowPrev" src="/Imagens/Passagem/-09-11-2025.png" alt="">
        <img src="Imagens/Passagem/Regras-09-11-2025 (1).png" alt="">
        <h1>Trabalho de Programação Web 1 - Hobby</h1>
        <img src="Imagens/Passagem/Campeonatos-09-11-2025.png" alt="">
        <img class="arrowNext" src="Imagens/Passagem/-09-11-2025.png" alt="">
    </footer>
    </body>

    
</html>

